document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".pawsome-portfolio-item"),t=document.querySelectorAll(".pawsome-portfolio-tag-button"),n=document.createElement("button");n.textContent="Clear Tags",n.className="clear-tags-button",t.length>0&&t[t.length-1].parentNode.appendChild(n);let o=[];if(t.forEach((t=>{t.addEventListener("click",(function(){const t=parseInt(this.getAttribute("data-tag-id")),n=o.indexOf(t);n>-1?(o.splice(n,1),this.classList.remove("active")):(o.push(t),this.classList.add("active")),o.length>0?e.forEach((e=>{const t=JSON.parse(e.getAttribute("data-tag-ids")).some((e=>o.includes(e)));e.style.display=t?"":"none"})):e.forEach((e=>e.style.display=""))}))})),n.addEventListener("click",(function(){o=[],t.forEach((e=>e.classList.remove("active"))),e.forEach((e=>e.style.display=""))})),"modal"===document.querySelector(".pawsome-portfolio").getAttribute("data-link-behavior")){const c=document.getElementById("pawsome-modal-container"),s=c.querySelector(".close");let i;function a(){c.style.display="none",i&&i.focus()}e.forEach((e=>{e.addEventListener("click",(function(){const e=this.dataset.postId;fetch(`/wp-json/wp/v2/pawsome_item/${e}`).then((e=>e.json())).then((e=>{!async function(e){i=document.activeElement;const t=c.querySelector(".pawsome-modal-content");t.innerHTML=`\n\t            <h2>${e.title.rendered}</h2>\n\t            ${e.featured_image_src?`<img src="${e.featured_image_src}" alt="${e.title.rendered}">`:""}\n\t            ${e.content.rendered}\n\t        `,c.style.display="flex",t.focus()}(e)}))}))})),s.addEventListener("click",a),document.addEventListener("keydown",(function(e){"Escape"===e.key&&a()})),c.addEventListener("click",(function(e){e.target===c&&a()}))}}));