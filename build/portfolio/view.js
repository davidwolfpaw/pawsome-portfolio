document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".pawsome-portfolio-item"),e=document.querySelectorAll(".pawsome-portfolio-tag-button"),n=document.createElement("button"),a=new URLSearchParams(window.location.search);let o=a.get("tags")?a.get("tags").split(",").map(Number):[];function s(){o.length>0?t.forEach((t=>{const e=JSON.parse(t.getAttribute("data-tag-ids")).some((t=>o.includes(t)));t.style.display=e?"":"none"})):t.forEach((t=>t.style.display=""))}if(n.textContent="Clear Tags",n.className="clear-tags-button",e.length>0&&e[e.length-1].parentNode.appendChild(n),e.forEach((t=>{t.addEventListener("click",(function(){const t=parseInt(this.getAttribute("data-tag-id")),e=o.indexOf(t);e>-1?(o.splice(e,1),this.classList.remove("active")):(o.push(t),this.classList.add("active")),s()}))})),n.addEventListener("click",(function(){o=[],e.forEach((t=>t.classList.remove("active"))),t.forEach((t=>t.style.display=""))})),e.forEach((t=>{t.addEventListener("click",(function(){const t=parseInt(this.dataset.tagId),e=new URLSearchParams(window.location.search);let n=e.get("tags")?e.get("tags").split(",").map(Number):[];const a=n.indexOf(t);a>-1?n.splice(a,1):n.push(t),e.set("tags",n.join(",")),window.history.replaceState({},"",`${window.location.pathname}?${e}`)}))})),o.forEach((t=>{const e=document.querySelector(`.pawsome-portfolio-tag-button[data-tag-id="${t}"]`);e&&e.classList.add("active"),s()})),"modal"===document.querySelector(".pawsome-portfolio").getAttribute("data-link-behavior")){const i=document.getElementById("pawsome-modal-container"),d=i.querySelector(".close");let r;function c(){i.style.display="none",r&&r.focus()}t.forEach((t=>{t.addEventListener("click",(function(){const t=this.dataset.postId;fetch(`/wp-json/wp/v2/pawsome_item/${t}`).then((t=>t.json())).then((t=>{!async function(t){r=document.activeElement;const e=i.querySelector(".pawsome-modal-content");e.innerHTML=`\n\t            <h2>${t.title.rendered}</h2>\n\t            ${t.featured_image_src?`<img src="${t.featured_image_src}" alt="${t.title.rendered}">`:""}\n\t            ${t.content.rendered}\n\t        `,i.style.display="flex",e.focus()}(t)}))}))})),d.addEventListener("click",c),document.addEventListener("keydown",(function(t){"Escape"===t.key&&c()})),i.addEventListener("click",(function(t){t.target===i&&c()}))}}));